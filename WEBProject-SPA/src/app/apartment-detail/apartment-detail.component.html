<div class="container mt-4">
  <div class="row">
    <div class="col-sm-4">
      <div class="card">
        <img class="card-img-top img-thumbnail" src="{{apartment.photos[0].url}}" alt="apartment.type">
        <div class="card-body">
          <div>
            <strong>Location:</strong>
            <p>{{apartment.location.address.street}}, {{apartment.location.address.city}}, {{apartment.location.address.country}}</p>
          </div>
          <div>
            <strong>Price:</strong>
            <span class="change" (click)="changePrice()">(Change)</span>
            <div *ngIf="priceChange">
              <input mat-input [(ngModel)]="apartment.pricePerNight" style="width: 50px;">
              <span>$ / night</span>
              <span class="change" (click)="applyPriceChange()">Apply</span>
              <br/>
            </div>
            <p *ngIf="!priceChange">{{apartment.pricePerNight}}$ /night</p>
          </div>
          <div *ngIf="numOfGrades == 0">
            <strong>Grade:</strong>  
            <p>There are no grades at this moments.</p>
          </div>
          <div *ngIf="numOfGrades > 0">
            <strong>Grade:</strong>  
            <p><i class="material-icons"> star</i>{{grade}} /10</p>
          </div>
          <div *ngIf="apartment.type !== 'Room'">
            <strong >Entire apartment</strong>  
            <p>You will have whole apartment for yourself.</p>           
          </div> 
          <div *ngIf="apartment.type === 'Room'">
            <strong >Room</strong>
            <p>You would share some rooms with others.</p>
          </div> 
      </div>
    </div>
  </div>
  <div class="col-sm-8">
    <div class="card">
    <div class="tab-panel">
      <tabset class="member-tabset">
        <tab heading="Amenities">
          <div style="margin-top: 10px;" align="center">
            <strong>There are following amenities available:</strong>
          </div>
          <div style="margin-top: 10px;" align="center">
            <button mat-raised-button color="primary" (click)="modifyToogle()" *ngIf="!modify">Remove amenities</button>
            <button mat-raised-button color="primary" (click)="modifyToogle()" *ngIf="modify">Cancel removal</button>
            <button style="margin-left: 10px;" mat-raised-button color="primary" (click)="addAmentity()">Add amenities</button>
          </div>
          <mat-list role="list">
              <ng-container *ngFor="let amentity of apartment.amentities"> 
                  <mat-list-item role="listitem">{{amentity.name}}  
                  <span *ngIf="modify" style="cursor: pointer;"><i 
                    (click)="removeAmentity(amentity.name)"
                    class="material-icons">
                    remove_circle
                    </i></span>
                  </mat-list-item>
                </ng-container> 
          </mat-list>
        </tab>
        <tab heading="Availability">
          <div align="center" style="margin-top: 10px;">
            <div>
                <span>The host offers discount of 10% during weekends, including friday.</span>
              </div>
              <div>
                <span>Reservation price is 10% higher during holidays.</span>
              </div>
              <br/>
              <ngx-daterangepicker-material (choosedDate)="choosedDate($event)">
                </ngx-daterangepicker-material>
          </div>

        </tab>
        <tab heading="Photos">
          <div align="center" style="margin-top: 10px;">
            <ngx-gallery [options]="galleryOptions" [images]="galleryImages"></ngx-gallery>
          </div>
        </tab>

        <tab heading="Reviews">
          <div *ngIf="apartment.comments.length === 0" align="center" style="margin-top: 10px;">
              <span>There are no reviews for this apartment.</span>
          </div>
          <br/>
            <div *ngFor="let review of apartment.comments" style="margin-left: 10px; margin-right: 10px;">
            Author:  {{review.author}} <br/> <br/>
              {{review.text}}
                <mat-divider></mat-divider>
                <br/>
            </div>
        </tab>
        
        <tab heading="Messages">
          <p>Messages will go here</p>
        </tab>

      </tabset>
    </div>
  </div>
</div>
</div>
</div>